# gotr ‚Äî CLI-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è TestRail API

[English](README.md) | [–†—É—Å—Å–∫–∏–π](README_ru.md)

`gotr` ‚Äî –º–æ—â–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TestRail API v2.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å GET-–∑–∞–ø—Ä–æ—Å—ã, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª—ã, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `jq` –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ GET-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ TestRail API
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `jq` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–Ω–µ—à–Ω–µ–π —É—Ç–∏–ª–∏—Ç—ã
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ JSON-—Ñ–∞–π–ª—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —á–µ—Ä–µ–∑ `--output`)
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ì–∏–±–∫–∏–µ —Ñ–ª–∞–≥–∏: `--quiet`, `--type`, `--jq`, `--project-id` –∏ –¥—Ä—É–≥–∏–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (suite_id, section_id –∏ —Ç.–¥.)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ, –≥–¥–µ –µ—Å—Ç—å Go

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (Linux/macOS)

```bash
# Unix
curl -s -L https://github.com/Korrnals/gotr/releases/latest/download/gotr-$(uname -s | tr '[:upper:]' '[:lower:]')-amd64 -o gotr && chmod +x gotr &&
 sudo mv gotr /usr/local/bin/
```

> [!TIP] –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
>
> –ó–∞–º–µ–Ω–∏ ***latest*** –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ***v1.0.0***).\
> –î–ª—è Windows ‚Äî —Å–∫–∞—á–∞–π .exe –≤—Ä—É—á–Ω—É—é –∏–∑ Releases.
>
> ***–ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è Linux, macOS –∏ Windows –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [Releases](https://github.com/Korrnals/gotr/releases).***

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Korrnals/gotr.git
cd gotr

# –°–æ–±–∏—Ä–∞–µ–º –±–∏–Ω–∞—Ä–Ω–∏–∫ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ —Å–∂–∞—Ç—ã–π)
go build -ldflags="-s -w" -o gotr

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–∂–∏–º–∞–µ–º –µ—â—ë —Å–∏–ª—å–Ω–µ–µ —Å –ø–æ–º–æ—â—å—é UPX
upx --best gotr

# –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ PATH
sudo mv gotr /usr/local/bin/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Makefile (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

**Makefile** —É–ø—Ä–æ—â–∞–µ—Ç —Å–±–æ—Ä–∫—É, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É.

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Korrnals/gotr.git
cd gotr

# –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
make install

# –î—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
make build              # —Ç–æ–ª—å–∫–æ —Å–æ–±—Ä–∞—Ç—å
make test               # –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make compress           # —Å–∂–∞—Ç—å UPX (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
make build-compressed   # —Å–æ–±—Ä–∞—Ç—å + —Å–∂–∞—Ç—å
make clean              # –æ—á–∏—Å—Ç–∏—Ç—å
make release            # —Å–æ–±—Ä–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

make install            # —Å–æ–±–µ—Ä—ë—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤ /usr/local/bin (—Ç—Ä–µ–±—É–µ—Ç sudo).

# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω UPX ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π 
make build-compressed   # –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (~3-5 –ú–ë).

# –ü—Ä–∏–º–µ—Ä —Å–∂–∞—Ç–∏—è UPX –¥–ª—è Windows –ø–∞–∫–µ—Ç–∞
make compress BINARY_NAME=gotr.exe
```

**–°–±–æ—Ä–∫–∞ —Å –≤–µ—Ä—Å–∏–µ–π:**

```bash
# –ù–µ—Ç —Ç–µ–≥–∞ ‚Äî –≤–µ—Ä—Å–∏—è "dev"
make build
# gotr version - dev

# –î–µ–ª–∞–µ—à—å —Ç–µ–≥
git tag v1.0.0
make build
# gotr version - v1.0.0

# –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—à—å –≤–µ—Ä—Å–∏—é ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã—à–µ —Ç–µ–≥–∞
make build VERSION=test-123
# gotr version - test-123
```

---

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Windows

–î–ª—è Windows:

- –ù–µ—Ç sudo, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ PATH –≤—Ä—É—á–Ω—É—é.
- –ë–∏–Ω–∞—Ä–Ω–∏–∫ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .exe.
- UPX —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows.
- Curl –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω–∏–∫ ‚Äî —á—É—Ç—å –¥—Ä—É–≥–æ–π (PowerShell –∏–ª–∏ cmd).

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (PowerShell)

```powershell
Invoke-WebRequest -Uri https://github.com/Korrnals/gotr/releases/latest/download/gotr.exe -OutFile gotr.exe
# –î–µ–ª–∞–µ–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ Windows, –Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
# –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏–∑ PATH (–Ω–∞–ø—Ä–∏–º–µ—Ä, C:\Windows –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π bin)
Move-Item gotr.exe C:\Windows\gotr.exe
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```powershell
git clone https://github.com/Korrnals/gotr.git
cd gotr
go build -ldflags="-s -w" -o gotr.exe

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–∂–∞—Ç–∏–µ UPX
upx --best gotr.exe

# –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ PATH
Move-Item gotr.exe C:\Windows\
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Makefile (—Ç—Ä–µ–±—É–µ—Ç Make –¥–ª—è Windows, –Ω–∞–ø—Ä–∏–º–µ—Ä Chocolatey: choco install make)

```powershell
git clone https://github.com/Korrnals/gotr.git
cd gotr
make build          # —Å–æ–±—Ä–∞—Ç—å gotr.exe
make compress       # —Å–∂–∞—Ç—å UPX (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä—É—á–Ω—É—é:
Copy-Item gotr.exe C:\Windows\
```

> [!TIP] –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
> –ù–∞ **Windows** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ **PATH** —á–µ—Ä–µ–∑ "***–ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –°–∏—Å—Ç–µ–º–∞ ‚Üí –û —Å–∏—Å—Ç–µ–º–µ ‚Üí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã ‚Üí –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã***".

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

`gotr` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

### –ß–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏

```bash
gotr --base-url https://your-company.testrail.io/ \
     --username your@email.com \
     --api-key your_api_key \
     get get_projects
```

### –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
export TESTRAIL_BASE_URL="https://your-company.testrail.io/"
export TESTRAIL_USERNAME="your@email.com"
export TESTRAIL_API_KEY="your_api_key"

gotr get get_projects
```

### –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª (—Å–∫–æ—Ä–æ)

---
---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
gotr get <endpoint> [id]                # GET-–∑–∞–ø—Ä–æ—Å
gotr export <resource> <endpoint> [id]  # –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª
gotr list <resource>                    # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
```

### –ü—Ä–∏–º–µ—Ä—ã

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤

```bash
gotr get get_projects
gotr get get_projects -t table          # –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ
gotr get get_projects -j                # —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º jq (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
gotr get get_projects -j -f '.[] .name' # —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
```

#### –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ ID

```bash
gotr get get_project 30
gotr get get_project --project-id 30    # —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥
gotr get get_project 30 -o project30.json  # —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
```

#### –ü–æ–ª—É—á–∏—Ç—å –∫–µ–π—Å—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```bash
gotr get get_cases 30 --suite-id 20069
gotr get get_cases 30 --suite-id 20069 --section-id 10
gotr get get_cases --project-id 30 --suite-id 20069
```

#### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

```bash
gotr export cases get_cases 30 --suite-id 20069
# –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ .testrail/cases_30_*.json

gotr export cases get_cases 30 --suite-id 20069 -o my_cases.json
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
```

#### –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

`gotr` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:

```bash
gotr get <Tab><Tab>        # –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
gotr export cases <Tab>    # –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è cases
```

---
---

## –§–ª–∞–≥–∏

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ

- `--base-url` ‚Äî –±–∞–∑–æ–≤—ã–π URL TestRail
- `--username` / `-u` ‚Äî email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `--api-key` / `-k` ‚Äî API-–∫–ª—é—á
- `--config` / `-c` ‚Äî –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª—É
- `--insecure` / `-i` ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É TLS
- `--jq` / `-j` ‚Äî –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π jq
- `--jq-filter` / `-f` ‚Äî —Ñ–∏–ª—å—Ç—Ä jq
- `--quiet` / `-q` ‚Äî –ø–æ–¥–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω
- `--type` / `-t` ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (json, json-full, table)
- `--output` / `-o` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª

### –õ–æ–∫–∞–ª—å–Ω—ã–µ (–¥–ª—è get/export)

- `--project-id` / `-p` ‚Äî ID –ø—Ä–æ–µ–∫—Ç–∞
- `--suite-id` / `-s` ‚Äî ID —Ç–µ—Å—Ç-—Å—é–∏—Ç—ã
- `--section-id` ‚Äî ID —Å–µ–∫—Ü–∏–∏
- `--milestone-id` ‚Äî ID milestone

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π —Å–≤–æ–±–æ–¥–Ω–æ.

## –ê–≤—Ç–æ—Ä—ã

- [Korrnals](https://github.com/Korrnals)

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- TestRail API
- jqlang/jq - –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–±–æ—Ç—ã —Å JSON
- itchyny/gojq ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ jq
- spf13/cobra ‚Äî –æ—Å–Ω–æ–≤–∞ CLI
- fatih/color ‚Äî —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥

---

‚≠ê –ï—Å–ª–∏ —É—Ç–∏–ª–∏—Ç–∞ –ø–æ–ª–µ–∑–Ω–∞ ‚Äî –ø–æ—Å—Ç–∞–≤—å –∑–≤—ë–∑–¥–æ—á–∫—É –Ω–∞ GitHub!  
–ï—Å—Ç—å –∏–¥–µ–∏ –∏–ª–∏ –±–∞–≥–∏ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π issue –∏–ª–∏ PR.

–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `gotr`! üöÄ
